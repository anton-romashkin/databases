SELECT
  target_id AS user,
  COUNT(*) AS likes
  FROM likes
  WHERE target_id IN
    (SELECT * FROM
      (SELECT user_id
        FROM profiles
        ORDER BY TIMESTAMPDIFF(YEAR, birthday, NOW())
        LIMIT 10) AS youngest_users)
  AND target_type_id = (
    SELECT id
    FROM target_types
    WHERE name = 'users')
  GROUP BY target_id;
